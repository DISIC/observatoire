<?xml version="1.1" encoding="UTF-8"?>

<!--
 * See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->

<xwikidoc version="1.3" reference="Demarches.Code.DemarchesClass" locale="">
  <web>Demarches.Code</web>
  <name>DemarchesClass</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1544396400000</creationDate>
  <parent>Demarches.WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1544396400000</date>
  <contentUpdateDate>1544396400000</contentUpdateDate>
  <version>1.1</version>
  <title>Demarches Class</title>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>true</hidden>
  <content/>
  <class>
    <name>Demarches.Code.DemarchesClass</name>
    <customClass/>
    <customMapping/>
    <defaultViewSheet/>
    <defaultEditSheet/>
    <defaultWeb/>
    <nameField/>
    <validationScript/>
    <accompagnement>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>accompagnement</name>
      <number>33</number>
      <picker>0</picker>
      <prettyName>Accompagnement humain personnalisé</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>oui=Oui|non=Non|na=Sans objet|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </accompagnement>
    <adapteMobile>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>adapteMobile</name>
      <number>31</number>
      <picker>0</picker>
      <prettyName>Adapté mobile</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>oui=Oui|non=Non|partiel=Partiel|na=Sans objet|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </adapteMobile>
    <api>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>checkbox</displayType>
      <hint/>
      <multiSelect>1</multiSelect>
      <name>api</name>
      <number>35</number>
      <picker>0</picker>
      <prettyName>API</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>apiparticuliers=API particuliers|apientreprises=API entreprises</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </api>
    <categoriesPublics>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>checkbox</displayType>
      <hint>Catégorie(s) de public(s) concerné(s) par la démarche</hint>
      <multiSelect>1</multiSelect>
      <name>categoriesPublics</name>
      <number>17</number>
      <picker>0</picker>
      <prettyName>Catégories de publics concernés</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>4</size>
      <sort>value</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>particuliers=Particuliers|professionnels=Professionnels|associations=Associations|collectivites=Collectivités locales</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </categoriesPublics>
    <champ>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>select</displayType>
      <hint>Champ national ou territorial</hint>
      <multiSelect>0</multiSelect>
      <name>champ</name>
      <number>6</number>
      <picker>0</picker>
      <prettyName>Champ de la démarche</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>national=Démarche nationale|local=Démarche territoriale</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </champ>
    <dateMiseEnLigne>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#if ($type == 'edit')
  #template('displayer_date.vm')
#else
  #set ($statutDemat = "$!object.getValue('statutDemat')")
  #if ("$!statutDemat" == 'enLigneEntierement')
$services.localization.render("Demarches.Code.DemarchesClass_dateMiseEnLigne_ouvert")
  #elseif ("$!value" != '')
    #template('displayer_date.vm')
  #else
$services.localization.render("Demarches.Code.DemarchesClass_dateMiseEnLigne_nr")
  #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <dateFormat>MM/yyyy</dateFormat>
      <disabled>0</disabled>
      <emptyIsToday>0</emptyIsToday>
      <hint>Date de mise en ligne prévue ou réalisée</hint>
      <name>dateMiseEnLigne</name>
      <number>40</number>
      <picker>1</picker>
      <prettyName>Date de mise en ligne</prettyName>
      <size>20</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.DateClass</classType>
    </dateMiseEnLigne>
    <dateMiseEnLigneTexte>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Ce champ indique une date d'ouverture approximative par opposition au champ « Date de mise en ligne » qui indique un mois et une année précis.</hint>
      <name>dateMiseEnLigneTexte</name>
      <number>41</number>
      <picker>0</picker>
      <prettyName>Date approximative d'ouverture du service dématérialisé</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </dateMiseEnLigneTexte>
    <demarcheSimplifiee>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>demarcheSimplifiee</name>
      <number>36</number>
      <picker>0</picker>
      <prettyName>Démarche simplifiée</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>oui=Oui|non=Non|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </demarcheSimplifiee>
    <dematObligatoire>
      <customDisplay/>
      <defaultValue/>
      <disabled>0</disabled>
      <displayFormType>checkbox</displayFormType>
      <displayType/>
      <hint>Ce champ indique si les usagers sont obligés de remplir la démarche en dématérialisation.</hint>
      <name>dematObligatoire</name>
      <number>27</number>
      <prettyName>Dématérialisation obligatoire</prettyName>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
    </dematObligatoire>
    <direction>
      <cache>0</cache>
      <classname/>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#if ($xcontext.action == 'edit' || $isSimplifiedForm)
  #template('displayer_dblist.vm')
#else
  #set ($direction = $xwiki.getDocument($value))
  #if ($direction.sigle) $direction.sigle #else $!value #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Direction ou établissement à laquelle / auquel est rattachée la démarche</hint>
      <idField/>
      <multiSelect>0</multiSelect>
      <name>direction</name>
      <number>7</number>
      <picker>1</picker>
      <prettyName>Direction ou établissement</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>1</size>
      <sort>value</sort>
      <sql>select doc.fullName, sigle.value from XWikiDocument as doc, BaseObject as obj, StringProperty as sigle where doc.fullName = obj.name and obj.className = 'Directions.Code.DirectionsClass' and doc.fullName &lt;&gt; 'Directions.Code.DirectionsTemplate' and sigle.id.id = obj.id and sigle.id.name = 'sigle' order by sigle.value asc
</sql>
      <unmodifiable>0</unmodifiable>
      <validationMessage>Demarches.Code.DemarchesClass_direction.validation</validationMessage>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </direction>
    <evenements>
      <cache>0</cache>
      <classname/>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Événements de vie associés à la démarche</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>evenements</name>
      <number>19</number>
      <picker>1</picker>
      <prettyName>Événements de vie</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>10</size>
      <sort>value</sort>
      <sql>select doc.fullName,doc.title from XWikiDocument as doc,BaseObject as obj where doc.fullName=obj.name and obj.className='Evenements.Code.EvenementsClass' and doc.fullName&lt;&gt;'Evenements.Code.EvenementsTemplate' order by doc.title asc</sql>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </evenements>
    <exclusionSve>
      <customDisplay/>
      <defaultValue/>
      <disabled>0</disabled>
      <displayFormType>checkbox</displayFormType>
      <displayType/>
      <hint>Démarche exclue du SVE par décret</hint>
      <name>exclusionSve</name>
      <number>28</number>
      <prettyName>Démarche exclue du SVE</prettyName>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
    </exclusionSve>
    <formulaires>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Référence(s) d'un ou plusieurs CERFA séparé(e)s par des virgules</hint>
      <name>formulaires</name>
      <number>13</number>
      <picker>0</picker>
      <prettyName>Formulaires CERFA</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </formulaires>
    <franceConnect>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>franceConnect</name>
      <number>30</number>
      <picker>0</picker>
      <prettyName>FranceConnect</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>oui=Oui|non=Non|na=Sans objet|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </franceConnect>
    <groupes>
      <cache>0</cache>
      <classname/>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Groupe(s) interne(s) au(x)quel(s) est rattachée la démarche (exemple : Portail des signalements)</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>groupes</name>
      <number>9</number>
      <picker>1</picker>
      <prettyName>Regroupement interne</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>5</size>
      <sort>none</sort>
      <sql/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </groupes>
    <groupesExternes>
      <cache>0</cache>
      <classname/>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Groupe(s) externe(s) au(x)quel(s) est rattachée la démarche (exemple : Éducation)</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>groupesExternes</name>
      <number>10</number>
      <picker>1</picker>
      <prettyName>Regroupement externe</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>5</size>
      <sort>none</sort>
      <sql/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </groupesExternes>
    <ministeres>
      <cache>0</cache>
      <classname/>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#if ($type == 'edit')
  #template('displayer_dblist.vm')
#else
  #foreach ($ministere in $value)
    #set ($ministereDocument = $xwiki.getDocument($ministere))
    #set ($nom = $ministereDocument.get('nom'))
    #if ($velocityCount &gt; 1), #{end}#if ($nom)$nom#{else}${ministereDocument.name}#end
  #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Ministère(s) au(x)quel(s) est rattachée la démarche</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>ministeres</name>
      <number>8</number>
      <picker>1</picker>
      <prettyName>Champ ministériel</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>5</size>
      <sort>value</sort>
      <sql>select doc.fullName,nom.value from XWikiDocument as doc,BaseObject as obj, StringProperty as nom where doc.fullName=obj.name and obj.className='Ministeres.Code.MinisteresClass' and doc.fullName&lt;&gt;'Ministeres.Code.MinisteresTemplate' and nom.id.id=obj.id and nom.id.name='nom' order by nom.value asc</sql>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </ministeres>
    <moyensDeContact>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>moyensDeContact</name>
      <number>32</number>
      <picker>0</picker>
      <prettyName>Au moins deux moyens de contact différents, dont un formulaire de contact</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>oui=Oui|non=Non|na=Sans objet|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </moyensDeContact>
    <niveauDemat>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>checkbox</displayType>
      <hint/>
      <multiSelect>1</multiSelect>
      <name>niveauDemat</name>
      <number>24</number>
      <picker>0</picker>
      <prettyName>Niveau de dématérialisation actuel</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>8</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>aucun=Aucun|formulaire=Formulaire en ligne|pdfnonremplissable=PDF non remplissable|pdfremplissable=PDF remplissable|edi=EDI|teleprocedure=Téléprocédure</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </niveauDemat>
    <nomComplet>
      <contenttype>---</contenttype>
      <customDisplay/>
      <disabled>0</disabled>
      <editor>Text</editor>
      <hint>Nom complet de la démarche dans le cas où celui-ci excède 255 caractères</hint>
      <name>nomComplet</name>
      <number>2</number>
      <picker>0</picker>
      <prettyName>Nom complet</prettyName>
      <rows>5</rows>
      <size>40</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
    </nomComplet>
    <nomProjet>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Nom du projet de dématérialisation auquel est rattachée la démarche</hint>
      <name>nomProjet</name>
      <number>38</number>
      <picker>0</picker>
      <prettyName>Nom du projet de dématérialisation</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </nomProjet>
    <objet>
      <contenttype>---</contenttype>
      <customDisplay/>
      <disabled>0</disabled>
      <editor>Text</editor>
      <hint>Objet de la démarche</hint>
      <name>objet</name>
      <number>4</number>
      <picker>0</picker>
      <prettyName>Objet</prettyName>
      <rows>5</rows>
      <size>40</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
    </objet>
    <organismesTraitement>
      <cache>0</cache>
      <classname/>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Organisme(s) ou type(s) d'organisme recevant la démarche et la gérant</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>organismesTraitement</name>
      <number>11</number>
      <picker>1</picker>
      <prettyName>Organismes de traitement</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>1</size>
      <sort>none</sort>
      <sql/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </organismesTraitement>
    <pourcentageDematerialisation>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>100 % si la démarche peut être réalisée en ligne complètement, 50% si la démarche est en phase de déploiement, et 10% si elle est en phase d’expérimentation</hint>
      <name>pourcentageDematerialisation</name>
      <number>26</number>
      <prettyName>Pourcentage de dématérialisation</prettyName>
      <script>{{velocity}}
#set ($enLigneEntierement = $object.getValue("enLigneEntierement"))
#set ($percent = 0)
#if ("$!enLigneEntierement" == '1')
  #set ($percent =  100)
#else
  #set ($experimentation = $object.getValue("experimentation"))
  #if ("$!experimentation" == '1')
    #set ($percent = 10)
  #end
  #set ($deploiementPartiel = $object.getValue("deploiementPartiel"))
  #if ("$!deploiementPartiel" == '1')
    #set ($percent = 50)
  #end
#end
${percent} %
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </pourcentageDematerialisation>
    <pourcentageRecoursVoieDematerialisee>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Rapport entre la volumétrie de la démarche et la volumétrie du recours à la voie dématérialisée</hint>
      <name>pourcentageRecoursVoieDematerialisee</name>
      <number>22</number>
      <prettyName>Pourcentage de recours à la voie dématérialisée</prettyName>
      <script>{{velocity}}
{{html clean="false"}}
#set ($statutDemat = "$!object.getValue('statutDemat')")
#set ($volumetrieDemat = $object.getValue("volumetrieDemat"))
#set ($volumetrie = $object.getValue("volumetrie"))
#set ($volumetrieDemat = $volumetrieDemat * 100)
#if ($statutDemat == 'nonDemat')
$services.localization.render("Demarches.Code.DemarchesClass_pourcentageRecoursVoieDematerialisee_na")
#elseif ("$!volumetrie" != '' &amp;&amp; $volumetrie &gt; 0 &amp;&amp; "$!volumetrieDemat" != '')
  #set ($percent = $mathtool.div($volumetrieDemat, $volumetrie))
  $numbertool.format("${escapetool.hash}${escapetool.hash}.${escapetool.hash}", $percent) %
#else
$services.localization.render("Demarches.Code.DemarchesClass_pourcentageRecoursVoieDematerialisee_nr")
#end
{{/html}}
{{/velocity}}</script>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </pourcentageRecoursVoieDematerialisee>
    <proprietaires>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Personnes en charge de la gestion des avis associés à la démarche</hint>
      <multiSelect>1</multiSelect>
      <name>proprietaires</name>
      <number>3</number>
      <picker>1</picker>
      <prettyName>Porteurs de la démarche</prettyName>
      <relationalStorage>0</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>20</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <usesList>0</usesList>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.UsersClass</classType>
    </proprietaires>
    <publics>
      <cache>0</cache>
      <classname/>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>input</displayType>
      <hint>Public(s) concerné(s) par la démarche</hint>
      <idField/>
      <multiSelect>1</multiSelect>
      <name>publics</name>
      <number>18</number>
      <picker>1</picker>
      <prettyName>Publics</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators/>
      <size>10</size>
      <sort>value</sort>
      <sql>select doc.fullName,doc.title from XWikiDocument as doc,BaseObject as obj where doc.fullName=obj.name and obj.className='Publics.Code.PublicsClass' and doc.fullName&lt;&gt;'Publics.Code.PublicsTemplate' order by doc.title asc</sql>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <valueField/>
      <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
    </publics>
    <qualiteSupport>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#set ($accompagnement = $object.getValue('accompagnement'))
#set ($moyensDeContact = $object.getValue('moyensDeContact'))
## Set default values in case the properties are empty
#if ("$!accompagnement" == '')
  #set ($accompagnement = 'nr')
#end
#if ("$!moyensDeContact" == '')
  #set ($moyensDeContact = 'nr')
#end
#set ($noOrnotApplicableOrNoInformation = ['non', 'na', 'nr'])
#set ($result = 'non')
#if ($accompagnement == 'oui' &amp;&amp; $moyensDeContact == 'oui')
  #set ($result = 'oui')
#elseif (($accompagnement == 'nr' &amp;&amp; ($moyensDeContact == 'nr' || $moyensDeContact == 'na')) || ($moyensDeContact == 'nr' &amp;&amp; ($accompagnement == 'nr' || $accompagnement == 'na')))
  #set ($result = 'nr')
#elseif ($accompagnement == 'na' &amp;&amp; $moyensDeContact == 'na')
  #set ($result = 'na')
#elseif (($accompagnement == 'oui' &amp;&amp; $noOrnotApplicableOrNoInformation.contains($moyensDeContact)) || ($moyensDeContact == 'oui' &amp;&amp; $noOrnotApplicableOrNoInformation.contains($accompagnement)))
  #set ($result = 'partiel')
#end
$services.localization.render("Demarches.Code.DemarchesClass_qualiteSupport_$result")
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <hint/>
      <name>qualiteSupport</name>
      <number>34</number>
      <prettyName>Support de qualité</prettyName>
      <script/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </qualiteSupport>
    <referenceServicePublic>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Référence de la démarche dans la base Service Public</hint>
      <name>referenceServicePublic</name>
      <number>12</number>
      <picker>0</picker>
      <prettyName>Référence Service Public</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </referenceServicePublic>
    <remarques>
      <contenttype>---</contenttype>
      <customDisplay/>
      <disabled>0</disabled>
      <editor>Text</editor>
      <hint/>
      <name>remarques</name>
      <number>37</number>
      <picker>0</picker>
      <prettyName>Remarques</prettyName>
      <rows>5</rows>
      <size>40</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
    </remarques>
    <statut>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint/>
      <multiSelect>0</multiSelect>
      <name>statut</name>
      <number>5</number>
      <picker>0</picker>
      <prettyName>Statut de la démarche</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>active=Active|inactive=Inactive|demandeUtilisateur=Demande utilisateur|demandePorteur=Demande porteur|nouvelleDemarche=Brouillon</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </statut>
    <statutDemat>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint>Oui si l'utilisateur peut effectuer la démarche complètement via internet jusqu'au dépôt de la demande sur l’ensemble du territoire ; Non dans le cas contraire ; Expérimentation si la solution est en cours d’expérimentation sur un échantillon restreint d’utilisateurs ou de cas métier ; Déploiement partiel si la solution est en cours de déploiement (l’ensemble des usagers n’y a pas encore accès).</hint>
      <multiSelect>0</multiSelect>
      <name>statutDemat</name>
      <number>25</number>
      <picker>0</picker>
      <prettyName>Peut être réalisée en ligne complètement</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>enLigneEntierement=Oui|experimentation=Expérimentation|deploiementPartiel=Déploiement partiel|nonDemat=Non|nr=Non renseigné</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </statutDemat>
    <statutProjetDemat>
      <cache>0</cache>
      <customDisplay/>
      <disabled>0</disabled>
      <displayType>radio</displayType>
      <hint>Statut du projet de dématérialisation incluant la planification de celle-ci</hint>
      <multiSelect>0</multiSelect>
      <name>statutProjetDemat</name>
      <number>39</number>
      <picker>0</picker>
      <prettyName>Statut du projet de dématérialisation</prettyName>
      <relationalStorage>1</relationalStorage>
      <separator> </separator>
      <separators>|, </separators>
      <size>1</size>
      <sort>none</sort>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <values>prevu=Prévu|encours=En cours|termine=Terminé</values>
      <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
    </statutProjetDemat>
    <textes>
      <contenttype>---</contenttype>
      <customDisplay/>
      <disabled>0</disabled>
      <editor>Text</editor>
      <hint>Textes de lois associés à la démarche</hint>
      <name>textes</name>
      <number>14</number>
      <picker>0</picker>
      <prettyName>Textes de référence</prettyName>
      <rows>5</rows>
      <size>40</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
    </textes>
    <title1>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#if ($type == 'edit')
  #set ($className = $object.getxWikiClass().name)
  #if ($doc.fullName == $className)
    ## We are editing the class so the title must be read from / written to the template document.
    #set ($name = 'templateTitle')
    #set ($value = $xwiki.getDocument("$stringtool.removeEnd($className, 'Class')Template").title)
  #elseif ($doc.name == 'NewDemarche')
    ## We are editing a new demarche form,the title must be set from the request parameters, or empty
    #set ($name = 'title')
    #set ($value = "$!request.text")
  #else
    ## We are editing an application entry so the title must be read from / written to the current document.
    #set ($name = 'title')
    #set ($value = $tdoc.title)
  #end
  &lt;input type="text" name="$name" value="$!escapetool.xml($value)"
    #if ($xwiki.getXWikiPreference('xwiki.title.mandatory') == 1)class="required"#end/&gt;
#elseif ("$!type" != '')
  ## Render the title of the current document.
  $tdoc.getRenderedTitle('xhtml/1.0')
#else
  The display mode is not specified!
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <hint>Nom de la démarche (longueur maximale : 255 caractères)</hint>
      <name>title1</name>
      <number>1</number>
      <prettyName>Nom</prettyName>
      <script/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </title1>
    <top>
      <customDisplay/>
      <defaultValue/>
      <disabled>0</disabled>
      <displayFormType>checkbox</displayFormType>
      <displayType/>
      <hint/>
      <name>top</name>
      <number>23</number>
      <prettyName>Top 250</prettyName>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
    </top>
    <urlAvailability>
      <customDisplay/>
      <disabled>0</disabled>
      <hint/>
      <name>urlAvailability</name>
      <number>43</number>
      <numberType>double</numberType>
      <prettyName>Disponibilité</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </urlAvailability>
    <urlDemarche>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Adresse web permettant d'effectuer la démarche</hint>
      <name>urlDemarche</name>
      <number>16</number>
      <picker>0</picker>
      <prettyName>Adresse web de la démarche</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </urlDemarche>
    <urlInfos>
      <customDisplay/>
      <disabled>0</disabled>
      <hint>Adresse web des informations concernant la démarche</hint>
      <name>urlInfos</name>
      <number>15</number>
      <picker>0</picker>
      <prettyName>Adresse web informations</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
    </urlInfos>
    <urlResponseTime>
      <customDisplay/>
      <disabled>0</disabled>
      <hint/>
      <name>urlResponseTime</name>
      <number>42</number>
      <numberType>long</numberType>
      <prettyName>Temps de réponse</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </urlResponseTime>
    <urlScore>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#set ($availability = $object.getValue('urlAvailability'))
#set ($responseTime = $object.getValue('urlResponseTime'))
#set ($statutDemat = $object.getValue('statutDemat'))
#if ($statutDemat == 'nonDemat')
  $services.localization.render('Demarches.Code.DemarchesClass_urlScore_na')
#else
  ## Availability score
  ## - Supérieure à 99.9% = 6
  ## - Entre 99.9% et 99.5% = 4
  ## - Entre 99,5% et 99% = 3
  ## - Entre 99% et 98% = 2
  ## - Entre 98% et 95% = 0
  ## - Inférieure à 95% = -6
  #set ($ranges = [95, 98, 99, 99.5, 99.9, 100])
  #set ($scores = [-6, 0, 2, 3, 4, 6])
  #foreach ($boundary in $ranges)
    ## Most strict test: inferior or equal for availability, strictly inferior for response time
    #if ($availability &lt;= $boundary)
      #set ($index = $mathtool.sub($velocityCount, 1))
      #set ($availabilityScore = $scores.get($index))
      #break
    #end
  #end
  ## Response time score
  ## - Inférieure à 0.2s (200ms) = 4
  ## - Entre 0.2s et 0.4s (400ms) = 3
  ## - Entre 0.4s et 0.6s (600ms) = 2
  ## - Entre 0.6s et 0.8s (800ms) = 1
  ## - Entre 0.8s et 1s (1000ms) = 0
  ## - Supérieure à 1s = -4
  #set ($ranges = [200, 400, 600, 800, 1000])
  #set ($scores = [4, 3, 2, 1, 0])
  #if ($responseTime &gt;= $ranges.get($mathtool.sub($ranges.size(),1)))
  #set ($responseTimeScore = -4)
  #else
  #foreach ($boundary in $ranges)
    #if ($responseTime &lt; $boundary)
      #set ($index = $mathtool.sub($velocityCount, 1))
      #set ($responseTimeScore = $scores.get($index))
      #break
    #end
  #end
  #end
  #if ($availabilityScore &amp;&amp; $responseTimeScore)
    $mathtool.add($availabilityScore, $responseTimeScore)
  #else
    $services.localization.render('Demarches.Code.DemarchesClass_urlScore_nr')
  #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <hint/>
      <name>urlScore</name>
      <number>44</number>
      <prettyName>Disponibilité / temps de réponse</prettyName>
      <script/>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.ComputedFieldClass</classType>
    </urlScore>
    <volumetrie>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#if ($type == 'edit')
&lt;input id="Demarches.Code.DemarchesClass_0_$name" name="Demarches.Code.DemarchesClass_0_$name" size="30" type="text" value="$!value"&gt;
#else
  #if ("$!value" != '')
    $value
  #else
    $services.localization.render("Demarches.Code.DemarchesClass_volumetrie_nr")
  #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <hint>Nombre total de démarches reçues par an (estimation)</hint>
      <name>volumetrie</name>
      <number>20</number>
      <numberType>long</numberType>
      <prettyName>Volumétrie de la démarche</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </volumetrie>
    <volumetrieDemat>
      <customDisplay>{{velocity}}
{{html clean="false"}}
#set ($statutDemat = "$!object.getValue('statutDemat')")
#if ($type == 'edit')
&lt;input id="Demarches.Code.DemarchesClass_0_$name" name="Demarches.Code.DemarchesClass_0_$name" size="30" type="text" value="$!value"&gt;
#else
  #if ($statutDemat == 'nonDemat')
$services.localization.render("Demarches.Code.DemarchesClass_volumetrieDemat_na")
  #elseif ("$!value" != '')
    $value
  #else
$services.localization.render("Demarches.Code.DemarchesClass_volumetrieDemat_nr")
  #end
#end
{{/html}}
{{/velocity}}</customDisplay>
      <disabled>0</disabled>
      <hint>Nombre de démarches reçues par la voie d'une téléprocédure ou d'un EDI par an.</hint>
      <name>volumetrieDemat</name>
      <number>21</number>
      <numberType>long</numberType>
      <prettyName>Volumétrie de la dématérialisation</prettyName>
      <size>30</size>
      <unmodifiable>0</unmodifiable>
      <validationMessage/>
      <validationRegExp/>
      <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
    </volumetrieDemat>
  </class>
  <object>
    <name>Demarches.Code.DemarchesClass</name>
    <number>0</number>
    <className>AppWithinMinutes.MetadataClass</className>
    <guid>7ec77c11-5040-47b3-99c4-e9859f3754c3</guid>
    <class>
      <name>AppWithinMinutes.MetadataClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <dataSpaceName>
        <customDisplay/>
        <disabled>0</disabled>
        <name>dataSpaceName</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Data Space Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </dataSpaceName>
    </class>
    <property>
      <dataSpaceName/>
    </property>
  </object>
  <object>
    <name>Demarches.Code.DemarchesClass</name>
    <number>0</number>
    <className>XWiki.ClassSheetBinding</className>
    <guid>5da7be97-e2c4-4485-8192-7621de4bca0a</guid>
    <class>
      <name>XWiki.ClassSheetBinding</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <sheet>
        <customDisplay/>
        <disabled>0</disabled>
        <name>sheet</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Sheet</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </sheet>
    </class>
    <property>
      <sheet>DemarchesSheet</sheet>
    </property>
  </object>
  <object>
    <name>Demarches.Code.DemarchesClass</name>
    <number>0</number>
    <className>XWiki.DocumentSheetBinding</className>
    <guid>f9c8b650-f998-435d-996c-845d0ea58f50</guid>
    <class>
      <name>XWiki.DocumentSheetBinding</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <sheet>
        <customDisplay/>
        <disabled>0</disabled>
        <name>sheet</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Sheet</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </sheet>
    </class>
    <property>
      <sheet>AppWithinMinutes.ClassEditSheet</sheet>
    </property>
  </object>
  <object>
    <name>Demarches.Code.DemarchesClass</name>
    <number>1</number>
    <className>XWiki.DocumentSheetBinding</className>
    <guid>e82e72dc-f852-4f96-9f0e-7e4d22e447aa</guid>
    <class>
      <name>XWiki.DocumentSheetBinding</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <sheet>
        <customDisplay/>
        <disabled>0</disabled>
        <name>sheet</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Sheet</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </sheet>
    </class>
    <property>
      <sheet>XWiki.ClassSheet</sheet>
    </property>
  </object>
</xwikidoc>
